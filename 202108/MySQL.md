# MySQL  
关系型数据库  


### 数据库三大范式  
第一范式：每个列都不可以再拆分。  
第二范式：在第一范式的基础上，非主键列完全依赖于主键，而不能是依赖于主键的一部分。  
第三范式：在第二范式的基础上，非主键列只依赖于主键，不依赖于其他非主键。  

### MySQL存储引擎  
**Innodb引擎**：Innodb引擎提供了对数据库ACID事务的支持。并且还提供了行级锁和外键的约束。它的设计的目标就是处理大数据容量的数据库系统。  
**MyIASM引擎**：不提供事务的支持，也不支持行级锁和外键。  
**MEMORY引擎**：所有的数据都在内存中，数据的处理速度快，但是安全性不高。  

MyISAM索引与InnoDB索引的区别？  
- InnoDB索引是聚簇索引，MyISAM索引是非聚簇索引。  
- InnoDB的主键索引的叶子节点存储着行数据，因此主键索引非常高效。  
- MyISAM索引的叶子节点存储的是行数据地址，需要再寻址一次才能得到数据。  
- InnoDB非主键索引的叶子节点存储的是主键和其他带索引的列数据，因此查询时做到覆盖索引会非常高效。  


![UBP$)GIF%C446P3F46FVB%8](https://user-images.githubusercontent.com/87803098/130386469-1ef5f154-2fad-4956-8c81-1c28eba22943.png)



### 什么是索引  
索引是一种数据结构。数据库索引，是数据库管理系统中一个排序的数据结构，以协助快速查询、更新数据库表中数据。索引的实现通常使用B树及其变种B+树。  
优点：  
可以大大加快数据的检索速度。  
通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。  
缺点：  
时间方面：创建索引和维护索引要耗费时间，具体地，当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，会降低增/改/删的执行效率；  
空间方面：索引需要占物理空间。  

索引的使用场景：where，order by，join，索引覆盖  
索引覆盖，如果要查询的字段都建立过索引，那么引擎会直接在索引表中查询而不会访问原始数据  

#### 索引有哪几种类型  
主键索引：数据列不允许重复，不允许为NULL，一个表只能有一个主键。  
唯一索引：数据列不允许重复，允许为NULL值，一个表允许多个列创建唯一索引。  
普通索引：基本的索引类型，没有唯一性的限制，允许为NULL值。  
全文索引：是目前搜索引擎使用的一种关键技术。  


#### 索引的数据结构  
B+树索引（默认）  
在B树中，你可以将键和值存放在内部节点和叶子节点；但在B+树中，内部节点都是键，没有值，叶子节点同时存放键和值。  
B+树的叶子节点有一条链相连，而B树的叶子节点各自独立。  

哈希索引  
在绝大多数需求为单条记录查询的时候，可以选择哈希索引

- 为什么使用B+树  
B树只适合随机检索，而B+树同时支持随机检索和顺序检索；  
B+树空间利用率更高，可减少I/O次数，磁盘读写代价更低。  
B+树的查询效率更加稳定。  
B+树的叶子节点使用指针顺序连接在一起，只要遍历叶子节点就可以实现整棵树的遍历。
增删文件（节点）时，效率更高。  



















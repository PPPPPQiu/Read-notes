# 2021/08/02  

## 知识点再看  

## 计算机网络  

应用层：**HTTP、DNS**，*报文*  
传输层：**TCP**-*报文段*、**UDP**-*用户数据报*   
网络层：**IP、ICMP、ARP**，*分组*（路由器）   
数据链路层：**MAC、VLAN**，*帧*（网桥，交换机）   
物理层：*比特流*（中继器，集线器）   


### 链路层  
1. 封装成帧  
2. 透明传输    
3. 差错检测-**循环冗余检验CRC**     

#### 信道分类  
1. 广播信道-CSMA/CD协议，信道复用技术  
2. 点对点信道-PPP协议  

#### CSMA/CD协议  
- **多点接入**，总线型网络  
- **载波监听**  
- **碰撞检测**  

#### MAC地址，**6字节，48位**  
一台主机有多少个网络适配器就有多少个MAC地址  

#### 局域网  
分为以太网、令牌环网、FDDI和ATM等  

#### 以太网  
一种**星型**拓扑结构局域网，以前用**集线器**，后来用**交换机**   
FCS：帧检验序列，使用CRC检验方法  

#### 交换机  
具有**自学习能力**，交换机存储着**MAC地址到接口的映射**  

#### 虚拟局域网  
同一个虚拟局域网中的成员才会收到**链路层广播信息**  
使用**VLAN干线连接**来建立虚拟局域网  

### 网络层  
> 网络层实现主机之间的通信，而链路层实现具体每段链路之间的通信。因此在通信过程中，IP 数据报的源地址和目的地址始终不变，而 MAC 地址随着链路的改变而改变。  


- **地址解析协议ARP**：实现由IP地址得到MAC地址,ARP高速缓存着IP地址到MAC地址的映射表  
- **网际控制报文协议ICMP**：封装在IP数据报中，不属于高层协议，为了更有效地转发IP数据报和交付成功地机会，分为差错报告报文和询问报文，**Ping**和**Traceroute**      
- **网际组管理协议IGMP**  

#### 虚拟专用网VPN  

#### 网络地址转换NAT
专用网内部的主机使用本地 IP 地址又想和互联网上的主机通信时，可以使用 NAT 来将本地 IP 转换为全球 IP。  

#### 路由器  
路由器从功能上可以划分为：路由选择和分组转发。  
分组转发结构由三个部分组成：交换结构、一组输入端口和一组输出端口。  

##### 路由器分组转发流程  

##### 路由选择协议  

- 自治系统内部：RIP、OSPF
- 自治系统间：BGP

RIP：基于距离向量地路由选择协议  
OSPF：开放最短路径优先  
BGP：边界网关协议  

### 传输层  
> 网络层只把分组发送到目的主机，但是真正通信的并不是主机而是主机中的进程，传输层提供了进程间的逻辑通信。  
  
#### UDP和TCP的特点  

###### UDP首部字段8个字节  
###### TCP首部字段20个字节  


#### TCP的三次握手  

![image](https://user-images.githubusercontent.com/87803098/127798160-1333f49b-5b9e-46a8-8d78-a3e5260d92c3.png)  
- 三次握手的原因   

#### TCP的四次挥手  
![image](https://user-images.githubusercontent.com/87803098/127798188-88636308-1605-4922-85c2-714165f86f69.png)  
- 四次挥手的原因   
- TIME_WAIT  

#### TCP可靠传输  
- 超时重传
加权平均往返时间RTTs  
超时时间RTO  

#### TCP滑动窗口  

#### TCP流量控制  

#### TCP拥塞控制  

- 慢开始与拥塞避免  


- 快重传与快恢复



